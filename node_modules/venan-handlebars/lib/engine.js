/*!
 * venan
 * Copyright(c) 2024 Ivanno VenÃ¢ncio
 * MIT Licensed
 */
import fs from 'fs';
import Handlebars from 'handlebars';
import path from 'path';

export function registerHelpers(helpers) {
    Object.keys(helpers).forEach(key => {
        Handlebars.registerHelper(key, helpers[key]);
    });
}

export function registerPartials(partialsDir) {
    const filenames = fs.readdirSync(partialsDir);
    
    filenames.forEach(filename => {
        const filepath = path.join(partialsDir, filename);
        const template = fs.readFileSync(filepath, 'utf8');
        const name = path.basename(filename, path.extname(filename));
        Handlebars.registerPartial(name, template);
    });
}
